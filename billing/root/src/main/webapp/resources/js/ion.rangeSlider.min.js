(function(h,k,f,b,i){var j=0,c=function(){var g=b.userAgent,e=/msie\s\d+/i;return 0<g.search(e)&&(g=e.exec(g).toString(),g=g.split(" ")[1],9>g)?(h("html").addClass("lt-ie9"),!0):!1}(),d="ontouchstart" in f||0<b.msMaxTouchPoints;Function.prototype.bind||(Function.prototype.bind=function(g){var e=this,n=[].slice;if("function"!=typeof e){throw new TypeError}var m=n.call(arguments,1),l=function(){if(this instanceof l){var p=function(){};p.prototype=e.prototype;var p=new p,o=e.apply(p,m.concat(n.call(arguments)));return Object(o)===o?o:p}return e.apply(g,m.concat(n.call(arguments)))};return l});var a=function(g,e,l){this.VERSION="2.0.2";this.input=g;this.plugin_count=l;this.old_to=this.old_from=this.calc_count=this.current_plugin=0;this.raf_id=null;this.is_update=this.is_key=this.force_redraw=this.dragging=!1;this.is_start=!0;this.is_click=this.is_resize=this.is_active=!1;this.$cache={win:h(f),body:h(k.body),input:h(g),cont:null,rs:null,min:null,max:null,from:null,to:null,single:null,bar:null,line:null,s_single:null,s_from:null,s_to:null,shad_single:null,shad_from:null,shad_to:null,grid:null,grid_labels:[]};g=this.$cache.input;g={type:g.data("type"),min:g.data("min"),max:g.data("max"),from:g.data("from"),to:g.data("to"),step:g.data("step"),min_interval:g.data("minInterval"),max_interval:g.data("maxInterval"),drag_interval:g.data("dragInterval"),values:g.data("values"),from_fixed:g.data("fromFixed"),from_min:g.data("fromMin"),from_max:g.data("fromMax"),from_shadow:g.data("fromShadow"),to_fixed:g.data("toFixed"),to_min:g.data("toMin"),to_max:g.data("toMax"),to_shadow:g.data("toShadow"),prettify_enabled:g.data("prettifyEnabled"),prettify_separator:g.data("prettifySeparator"),force_edges:g.data("forceEdges"),keyboard:g.data("keyboard"),keyboard_step:g.data("keyboardStep"),grid:g.data("grid"),grid_margin:g.data("gridMargin"),grid_num:g.data("gridNum"),grid_snap:g.data("gridSnap"),hide_min_max:g.data("hideMinMax"),hide_from_to:g.data("hideFromTo"),prefix:g.data("prefix"),postfix:g.data("postfix"),max_postfix:g.data("maxPostfix"),decorate_both:g.data("decorateBoth"),values_separator:g.data("valuesSeparator"),disable:g.data("disable")};g.values=g.values&&g.values.split(",");e=h.extend(g,e);this.options=h.extend({type:"single",min:10,max:100,from:null,to:null,step:1,min_interval:0,max_interval:0,drag_interval:!1,values:[],p_values:[],from_fixed:!1,from_min:null,from_max:null,from_shadow:!1,to_fixed:!1,to_min:null,to_max:null,to_shadow:!1,prettify_enabled:!0,prettify_separator:" ",prettify:null,force_edges:!1,keyboard:!1,keyboard_step:5,grid:!1,grid_margin:!0,grid_num:4,grid_snap:!1,hide_min_max:!1,hide_from_to:!1,prefix:"",postfix:"",max_postfix:"",decorate_both:!0,values_separator:" \u2014 ",disable:!1,onStart:null,onChange:null,onFinish:null,onUpdate:null},e);this.validate();this.result={input:this.$cache.input,slider:null,min:this.options.min,max:this.options.max,from:this.options.from,from_percent:0,from_value:null,to:this.options.to,to_percent:0,to_value:null};this.coords={x_gap:0,x_pointer:0,w_rs:0,w_rs_old:0,w_handle:0,p_gap:0,p_gap_left:0,p_gap_right:0,p_step:0,p_pointer:0,p_handle:0,p_single:0,p_single_real:0,p_from:0,p_from_real:0,p_to:0,p_to_real:0,p_bar_x:0,p_bar_w:0,grid_gap:0,big_num:0,big:[],big_w:[],big_p:[],big_x:[]};this.labels={w_min:0,w_max:0,w_from:0,w_to:0,w_single:0,p_min:0,p_max:0,p_from:0,p_from_left:0,p_to:0,p_to_left:0,p_single:0,p_single_left:0};this.init()};a.prototype={init:function(e){this.coords.p_step=this.options.step/((this.options.max-this.options.min)/100);this.target="base";this.toggleInput();this.append();this.setMinMax();if(e){if(this.force_redraw=!0,this.calc(!0),this.options.onUpdate&&"function"===typeof this.options.onUpdate){this.options.onUpdate(this.result)}}else{if(this.force_redraw=!0,this.calc(!0),this.options.onStart&&"function"===typeof this.options.onStart){this.options.onStart(this.result)}}this.updateScene();this.raf_id=requestAnimationFrame(this.updateScene.bind(this))},append:function(){this.$cache.input.before('<span class="irs js-irs-'+this.plugin_count+'"></span>');this.$cache.input.prop("readonly",!0);this.$cache.cont=this.$cache.input.prev();this.result.slider=this.$cache.cont;this.$cache.cont.html('<span class="irs"><span class="irs-line" tabindex="-1"><span class="irs-line-left"></span><span class="irs-line-mid"></span><span class="irs-line-right"></span></span><span class="irs-min">0</span><span class="irs-max">1</span><span class="irs-from">0</span><span class="irs-to">0</span><span class="irs-single">0</span></span><span class="irs-grid"></span><span class="irs-bar"></span>');this.$cache.rs=this.$cache.cont.find(".irs");this.$cache.min=this.$cache.cont.find(".irs-min");this.$cache.max=this.$cache.cont.find(".irs-max");this.$cache.from=this.$cache.cont.find(".irs-from");this.$cache.to=this.$cache.cont.find(".irs-to");this.$cache.single=this.$cache.cont.find(".irs-single");this.$cache.bar=this.$cache.cont.find(".irs-bar");this.$cache.line=this.$cache.cont.find(".irs-line");this.$cache.grid=this.$cache.cont.find(".irs-grid");"single"===this.options.type?(this.$cache.cont.append('<span class="irs-bar-edge"></span><span class="irs-shadow shadow-single"></span><span class="irs-slider single"></span>'),this.$cache.s_single=this.$cache.cont.find(".single"),this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.shad_single=this.$cache.cont.find(".shadow-single")):(this.$cache.cont.append('<span class="irs-shadow shadow-from"></span><span class="irs-shadow shadow-to"></span><span class="irs-slider from"></span><span class="irs-slider to"></span>'),this.$cache.s_from=this.$cache.cont.find(".from"),this.$cache.s_to=this.$cache.cont.find(".to"),this.$cache.shad_from=this.$cache.cont.find(".shadow-from"),this.$cache.shad_to=this.$cache.cont.find(".shadow-to"));this.options.hide_from_to&&(this.$cache.from[0].style.display="none",this.$cache.to[0].style.display="none",this.$cache.single[0].style.display="none");this.appendGrid();this.options.disable?this.appendDisableMask():(this.$cache.cont.removeClass("irs-disabled"),this.bindEvents())},appendDisableMask:function(){this.$cache.cont.append('<span class="irs-disable-mask"></span>');this.$cache.cont.addClass("irs-disabled")},remove:function(){this.$cache.cont.remove();this.$cache.cont=null;this.$cache.line.off("keydown.irs_"+this.plugin_count);d?(this.$cache.body.off("touchmove.irs_"+this.plugin_count),this.$cache.win.off("touchend.irs_"+this.plugin_count)):(this.$cache.body.off("mousemove.irs_"+this.plugin_count),this.$cache.win.off("mouseup.irs_"+this.plugin_count),c&&(this.$cache.body.off("mouseup.irs_"+this.plugin_count),this.$cache.body.off("mouseleave.irs_"+this.plugin_count)));this.$cache.grid_labels=[];this.coords.big=[];this.coords.big_w=[];this.coords.big_p=[];this.coords.big_x=[];cancelAnimationFrame(this.raf_id)},bindEvents:function(){if(d){this.$cache.body.on("touchmove.irs_"+this.plugin_count,this.pointerMove.bind(this));this.$cache.win.on("touchend.irs_"+this.plugin_count,this.pointerUp.bind(this));this.$cache.line.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"));if(this.options.drag_interval&&"double"===this.options.type){this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"both"))}else{this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))}"single"===this.options.type?(this.$cache.s_single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.shad_single.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))):(this.$cache.s_from.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.s_to.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.shad_from.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_to.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")))}else{if(this.options.keyboard){this.$cache.line.on("keydown.irs_"+this.plugin_count,this.key.bind(this,"keyboard"))}this.$cache.body.on("mousemove.irs_"+this.plugin_count,this.pointerMove.bind(this));this.$cache.win.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this));c&&(this.$cache.body.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.body.on("mouseleave.irs_"+this.plugin_count,this.pointerUp.bind(this)));this.$cache.line.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"));if(this.options.drag_interval&&"double"===this.options.type){this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"both"))}else{this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))}"single"===this.options.type?(this.$cache.s_single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.shad_single.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))):(this.$cache.s_from.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.s_to.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.shad_from.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_to.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")))}},pointerMove:function(e){this.dragging&&(this.coords.x_pointer=(d?e.originalEvent.touches[0]:e).pageX-this.coords.x_gap,this.calc())},pointerUp:function(g){if(this.current_plugin===this.plugin_count&&this.is_active){this.is_active=!1;var e=this.options.onFinish&&"function"===typeof this.options.onFinish;g=h.contains(this.$cache.cont[0],g.target)||this.dragging;if(e&&g){this.options.onFinish(this.result)}this.force_redraw=!0;this.dragging=!1;c&&h("*").prop("unselectable",!1)}},pointerDown:function(g,e){e.preventDefault();var l=d?e.originalEvent.touches[0]:e;if(2!==e.button){this.current_plugin=this.plugin_count;this.target=g;this.dragging=this.is_active=!0;this.coords.x_gap=this.$cache.rs.offset().left;this.coords.x_pointer=l.pageX-this.coords.x_gap;this.calcPointer();switch(g){case"single":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_single);break;case"from":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_from);this.$cache.s_from.addClass("type_last");this.$cache.s_to.removeClass("type_last");break;case"to":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_to);this.$cache.s_to.addClass("type_last");this.$cache.s_from.removeClass("type_last");break;case"both":this.coords.p_gap_left=this.toFixed(this.coords.p_pointer-this.coords.p_from),this.coords.p_gap_right=this.toFixed(this.coords.p_to-this.coords.p_pointer),this.$cache.s_to.removeClass("type_last"),this.$cache.s_from.removeClass("type_last")}c&&h("*").prop("unselectable",!0);this.$cache.line.trigger("focus")}},pointerClick:function(g,e){e.preventDefault();var l=d?e.originalEvent.touches[0]:e;2!==e.button&&(this.current_plugin=this.plugin_count,this.target=g,this.is_click=!0,this.coords.x_gap=this.$cache.rs.offset().left,this.coords.x_pointer=+(l.pageX-this.coords.x_gap).toFixed(),this.force_redraw=!0,this.calc(),this.$cache.line.trigger("focus"))},key:function(g,e){if(!(this.current_plugin!==this.plugin_count||e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)){switch(e.which){case 83:case 65:case 40:case 37:e.preventDefault();this.moveByKey(!1);break;case 87:case 68:case 38:case 39:e.preventDefault(),this.moveByKey(!0)}return !0}},moveByKey:function(g){var e=this.coords.p_pointer,e=g?e+this.options.keyboard_step:e-this.options.keyboard_step;this.coords.x_pointer=this.toFixed(this.coords.w_rs/100*e);this.is_key=!0;this.calc()},setMinMax:function(){this.options.hide_min_max?(this.$cache.min[0].style.display="none",this.$cache.max[0].style.display="none"):(this.options.values.length?(this.$cache.min.html(this.decorate(this.options.p_values[this.options.min])),this.$cache.max.html(this.decorate(this.options.p_values[this.options.max]))):(this.$cache.min.html(this.decorate(this._prettify(this.options.min),this.options.min)),this.$cache.max.html(this.decorate(this._prettify(this.options.max),this.options.max))),this.labels.w_min=this.$cache.min.outerWidth(!1),this.labels.w_max=this.$cache.max.outerWidth(!1))},calc:function(g){this.calc_count++;if(10===this.calc_count||g){this.calc_count=0,this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.coords.w_handle="single"===this.options.type?this.$cache.s_single.outerWidth(!1):this.$cache.s_from.outerWidth(!1)}if(this.coords.w_rs){this.calcPointer();this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100);g=100-this.coords.p_handle;var e=this.toFixed(this.coords.p_pointer-this.coords.p_gap);"click"===this.target&&(e=this.toFixed(this.coords.p_pointer-this.coords.p_handle/2),this.target=this.chooseHandle(e));0>e?e=0:e>g&&(e=g);switch(this.target){case"base":e=(this.options.max-this.options.min)/100;g=(this.result.from-this.options.min)/e;e=(this.result.to-this.options.min)/e;this.coords.p_single_real=this.toFixed(g);this.coords.p_from_real=this.toFixed(g);this.coords.p_to_real=this.toFixed(e);this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max);this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max);this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max);this.coords.p_single=this.toFixed(g-this.coords.p_handle/100*g);this.coords.p_from=this.toFixed(g-this.coords.p_handle/100*g);this.coords.p_to=this.toFixed(e-this.coords.p_handle/100*e);this.target=null;break;case"single":if(this.options.from_fixed){break}this.coords.p_single_real=this.calcWithStep(e/g*100);this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max);this.coords.p_single=this.toFixed(this.coords.p_single_real/100*g);break;case"from":if(this.options.from_fixed){break}this.coords.p_from_real=this.calcWithStep(e/g*100);this.coords.p_from_real>this.coords.p_to_real&&(this.coords.p_from_real=this.coords.p_to_real);this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max);this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from");this.coords.p_from_real=this.checkMaxInterval(this.coords.p_from_real,this.coords.p_to_real,"from");this.coords.p_from=this.toFixed(this.coords.p_from_real/100*g);break;case"to":if(this.options.to_fixed){break}this.coords.p_to_real=this.calcWithStep(e/g*100);this.coords.p_to_real<this.coords.p_from_real&&(this.coords.p_to_real=this.coords.p_from_real);this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max);this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to");this.coords.p_to_real=this.checkMaxInterval(this.coords.p_to_real,this.coords.p_from_real,"to");this.coords.p_to=this.toFixed(this.coords.p_to_real/100*g);break;case"both":e=this.toFixed(e+0.1*this.coords.p_handle),this.coords.p_from_real=this.calcWithStep((e-this.coords.p_gap_left)/g*100),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from=this.toFixed(this.coords.p_from_real/100*g),this.coords.p_to_real=this.calcWithStep((e+this.coords.p_gap_right)/g*100),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to=this.toFixed(this.coords.p_to_real/100*g)}"single"===this.options.type?(this.coords.p_bar_x=this.coords.p_handle/2,this.coords.p_bar_w=this.coords.p_single,this.result.from_percent=this.coords.p_single_real,this.result.from=this.calcReal(this.coords.p_single_real),this.options.values.length&&(this.result.from_value=this.options.values[this.result.from])):(this.coords.p_bar_x=this.toFixed(this.coords.p_from+this.coords.p_handle/2),this.coords.p_bar_w=this.toFixed(this.coords.p_to-this.coords.p_from),this.result.from_percent=this.coords.p_from_real,this.result.from=this.calcReal(this.coords.p_from_real),this.result.to_percent=this.coords.p_to_real,this.result.to=this.calcReal(this.coords.p_to_real),this.options.values.length&&(this.result.from_value=this.options.values[this.result.from],this.result.to_value=this.options.values[this.result.to]));this.calcMinMax();this.calcLabels()}},calcPointer:function(){this.coords.w_rs?(0>this.coords.x_pointer?this.coords.x_pointer=0:this.coords.x_pointer>this.coords.w_rs&&(this.coords.x_pointer=this.coords.w_rs),this.coords.p_pointer=this.toFixed(this.coords.x_pointer/this.coords.w_rs*100)):this.coords.p_pointer=0},chooseHandle:function(e){return"single"===this.options.type?"single":e>=this.coords.p_from_real+(this.coords.p_to_real-this.coords.p_from_real)/2?"to":"from"},calcMinMax:function(){this.coords.w_rs&&(this.labels.p_min=this.labels.w_min/this.coords.w_rs*100,this.labels.p_max=this.labels.w_max/this.coords.w_rs*100)},calcLabels:function(){this.coords.w_rs&&!this.options.hide_from_to&&("single"===this.options.type?(this.labels.w_single=this.$cache.single.outerWidth(!1),this.labels.p_single=this.labels.w_single/this.coords.w_rs*100,this.labels.p_single_left=this.coords.p_single+this.coords.p_handle/2-this.labels.p_single/2):(this.labels.w_from=this.$cache.from.outerWidth(!1),this.labels.p_from=this.labels.w_from/this.coords.w_rs*100,this.labels.p_from_left=this.coords.p_from+this.coords.p_handle/2-this.labels.p_from/2,this.labels.p_from_left=this.toFixed(this.labels.p_from_left),this.labels.p_from_left=this.checkEdges(this.labels.p_from_left,this.labels.p_from),this.labels.w_to=this.$cache.to.outerWidth(!1),this.labels.p_to=this.labels.w_to/this.coords.w_rs*100,this.labels.p_to_left=this.coords.p_to+this.coords.p_handle/2-this.labels.p_to/2,this.labels.p_to_left=this.toFixed(this.labels.p_to_left),this.labels.p_to_left=this.checkEdges(this.labels.p_to_left,this.labels.p_to),this.labels.w_single=this.$cache.single.outerWidth(!1),this.labels.p_single=this.labels.w_single/this.coords.w_rs*100,this.labels.p_single_left=(this.labels.p_from_left+this.labels.p_to_left+this.labels.p_to)/2-this.labels.p_single/2,this.labels.p_single_left=this.toFixed(this.labels.p_single_left)),this.labels.p_single_left=this.checkEdges(this.labels.p_single_left,this.labels.p_single))},updateScene:function(){this.drawHandles();this.raf_id=requestAnimationFrame(this.updateScene.bind(this))},drawHandles:function(){this.coords.w_rs=this.$cache.rs.outerWidth(!1);this.coords.w_rs!==this.coords.w_rs_old&&(this.target="base",this.is_resize=!0);if(this.coords.w_rs!==this.coords.w_rs_old||this.force_redraw){this.setMinMax(),this.calc(!0),this.drawLabels(),this.options.grid&&(this.calcGridMargin(),this.calcGridLabels()),this.force_redraw=!0,this.coords.w_rs_old=this.coords.w_rs,this.drawShadow()}if(this.coords.w_rs&&(this.dragging||this.force_redraw||this.is_key)){if(this.old_from!==this.result.from||this.old_to!==this.result.to||this.force_redraw||this.is_key){this.drawLabels();this.$cache.bar[0].style.left=this.coords.p_bar_x+"%";this.$cache.bar[0].style.width=this.coords.p_bar_w+"%";if("single"===this.options.type){this.$cache.s_single[0].style.left=this.coords.p_single+"%",this.$cache.single[0].style.left=this.labels.p_single_left+"%",this.options.values.length?(this.$cache.input.prop("value",this.result.from_value),this.$cache.input.data("from",this.result.from_value)):(this.$cache.input.prop("value",this.result.from),this.$cache.input.data("from",this.result.from))}else{this.$cache.s_from[0].style.left=this.coords.p_from+"%";this.$cache.s_to[0].style.left=this.coords.p_to+"%";if(this.old_from!==this.result.from||this.force_redraw){this.$cache.from[0].style.left=this.labels.p_from_left+"%"}if(this.old_to!==this.result.to||this.force_redraw){this.$cache.to[0].style.left=this.labels.p_to_left+"%"}this.$cache.single[0].style.left=this.labels.p_single_left+"%";this.options.values.length?(this.$cache.input.prop("value",this.result.from_value+";"+this.result.to_value),this.$cache.input.data("from",this.result.from_value),this.$cache.input.data("to",this.result.to_value)):(this.$cache.input.prop("value",this.result.from+";"+this.result.to),this.$cache.input.data("from",this.result.from),this.$cache.input.data("to",this.result.to))}this.old_from===this.result.from&&this.old_to===this.result.to||this.is_start||this.$cache.input.trigger("change");this.old_from=this.result.from;this.old_to=this.result.to;if(this.options.onChange&&"function"===typeof this.options.onChange&&!this.is_resize&&!this.is_update&&!this.is_start){this.options.onChange(this.result)}if(this.options.onFinish&&"function"===typeof this.options.onFinish&&(this.is_key||this.is_click)){this.options.onFinish(this.result)}this.is_resize=this.is_update=!1}this.force_redraw=this.is_click=this.is_key=this.is_start=!1}},drawLabels:function(){var g=this.options.values.length,e=this.options.p_values,m;if(!this.options.hide_from_to){if("single"===this.options.type){g=g?this.decorate(e[this.result.from]):this.decorate(this._prettify(this.result.from),this.result.from),this.$cache.single.html(g),this.calcLabels(),this.$cache.min[0].style.visibility=this.labels.p_single_left<this.labels.p_min+1?"hidden":"visible",this.$cache.max[0].style.visibility=this.labels.p_single_left+this.labels.p_single>100-this.labels.p_max-1?"hidden":"visible"}else{g?(this.options.decorate_both?(g=this.decorate(e[this.result.from]),g+=this.options.values_separator,g+=this.decorate(e[this.result.to])):g=this.decorate(e[this.result.from]+this.options.values_separator+e[this.result.to]),m=this.decorate(e[this.result.from]),e=this.decorate(e[this.result.to])):(this.options.decorate_both?(g=this.decorate(this._prettify(this.result.from)),g+=this.options.values_separator,g+=this.decorate(this._prettify(this.result.to))):g=this.decorate(this._prettify(this.result.from)+this.options.values_separator+this._prettify(this.result.to),this.result.from),m=this.decorate(this._prettify(this.result.from),this.result.from),e=this.decorate(this._prettify(this.result.to),this.result.to));this.$cache.single.html(g);this.$cache.from.html(m);this.$cache.to.html(e);this.calcLabels();e=Math.min(this.labels.p_single_left,this.labels.p_from_left);g=this.labels.p_single_left+this.labels.p_single;m=this.labels.p_to_left+this.labels.p_to;var l=Math.max(g,m);this.labels.p_from_left+this.labels.p_from>=this.labels.p_to_left?(this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.single[0].style.visibility="visible",this.result.from===this.result.to?(this.$cache.from[0].style.visibility="visible",this.$cache.single[0].style.visibility="hidden",l=m):(this.$cache.from[0].style.visibility="hidden",this.$cache.single[0].style.visibility="visible",l=Math.max(g,m))):(this.$cache.from[0].style.visibility="visible",this.$cache.to[0].style.visibility="visible",this.$cache.single[0].style.visibility="hidden");this.$cache.min[0].style.visibility=e<this.labels.p_min+1?"hidden":"visible";this.$cache.max[0].style.visibility=l>100-this.labels.p_max-1?"hidden":"visible"}}},drawShadow:function(){var g=this.options,e=this.$cache,m,l;"single"===g.type?g.from_shadow&&(g.from_min||g.from_max)?(m=this.calcPercent(g.from_min||g.min),l=this.calcPercent(g.from_max||g.max)-m,m=this.toFixed(m-this.coords.p_handle/100*m),l=this.toFixed(l-this.coords.p_handle/100*l),m+=this.coords.p_handle/2,e.shad_single[0].style.display="block",e.shad_single[0].style.left=m+"%",e.shad_single[0].style.width=l+"%"):e.shad_single[0].style.display="none":(g.from_shadow&&(g.from_min||g.from_max)?(m=this.calcPercent(g.from_min||g.min),l=this.calcPercent(g.from_max||g.max)-m,m=this.toFixed(m-this.coords.p_handle/100*m),l=this.toFixed(l-this.coords.p_handle/100*l),m+=this.coords.p_handle/2,e.shad_from[0].style.display="block",e.shad_from[0].style.left=m+"%",e.shad_from[0].style.width=l+"%"):e.shad_from[0].style.display="none",g.to_shadow&&(g.to_min||g.to_max)?(m=this.calcPercent(g.to_min||g.min),g=this.calcPercent(g.to_max||g.max)-m,m=this.toFixed(m-this.coords.p_handle/100*m),g=this.toFixed(g-this.coords.p_handle/100*g),m+=this.coords.p_handle/2,e.shad_to[0].style.display="block",e.shad_to[0].style.left=m+"%",e.shad_to[0].style.width=g+"%"):e.shad_to[0].style.display="none")},toggleInput:function(){this.$cache.input.toggleClass("irs-hidden-input")},calcPercent:function(e){return this.toFixed((e-this.options.min)/((this.options.max-this.options.min)/100))},calcReal:function(g){var e=this.options.min,m=this.options.max,l=0;0>e&&(l=Math.abs(e),e+=l,m+=l);g=(m-e)/100*g+e;(e=this.options.step.toString().split(".")[1])?g=+g.toFixed(e.length):(g/=this.options.step,g*=this.options.step,g=+g.toFixed(0));l&&(g-=l);g<this.options.min?g=this.options.min:g>this.options.max&&(g=this.options.max);return e?+g.toFixed(e.length):this.toFixed(g)},calcWithStep:function(g){var e=Math.round(g/this.coords.p_step)*this.coords.p_step;100<e&&(e=100);100===g&&(e=100);return this.toFixed(e)},checkMinInterval:function(g,e,m){var l=this.options;if(!l.min_interval){return g}g=this.calcReal(g);e=this.calcReal(e);"from"===m?e-g<l.min_interval&&(g=e-l.min_interval):g-e<l.min_interval&&(g=e+l.min_interval);return this.calcPercent(g)},checkMaxInterval:function(g,e,m){var l=this.options;if(!l.max_interval){return g}g=this.calcReal(g);e=this.calcReal(e);"from"===m?e-g>l.max_interval&&(g=e-l.max_interval):g-e>l.max_interval&&(g=e+l.max_interval);return this.calcPercent(g)},checkDiapason:function(g,e,m){g=this.calcReal(g);var l=this.options;e&&"number"===typeof e||(e=l.min);m&&"number"===typeof m||(m=l.max);g<e&&(g=e);g>m&&(g=m);return this.calcPercent(g)},toFixed:function(e){e=e.toFixed(5);return +e},_prettify:function(e){return this.options.prettify_enabled?this.options.prettify&&"function"===typeof this.options.prettify?this.options.prettify(e):this.prettify(e):e},prettify:function(e){return e.toString().replace(/(\d{1,3}(?=(?:\d\d\d)+(?!\d)))/g,"$1"+this.options.prettify_separator)},checkEdges:function(g,e){if(!this.options.force_edges){return this.toFixed(g)}0>g?g=0:g>100-e&&(g=100-e);return this.toFixed(g)},validate:function(){var g=this.options,e=this.result,o=g.values,n=o.length,l,m;"string"===typeof g.min&&(g.min=+g.min);"string"===typeof g.max&&(g.max=+g.max);"string"===typeof g.from&&(g.from=+g.from);"string"===typeof g.to&&(g.to=+g.to);"string"===typeof g.step&&(g.step=+g.step);"string"===typeof g.from_min&&(g.from_min=+g.from_min);"string"===typeof g.from_max&&(g.from_max=+g.from_max);"string"===typeof g.to_min&&(g.to_min=+g.to_min);"string"===typeof g.to_max&&(g.to_max=+g.to_max);"string"===typeof g.keyboard_step&&(g.keyboard_step=+g.keyboard_step);"string"===typeof g.grid_num&&(g.grid_num=+g.grid_num);g.max<=g.min&&(g.max=g.min?2*g.min:g.min+1,g.step=1);if(n){for(g.p_values=[],g.min=0,g.max=n-1,g.step=1,g.grid_num=g.max,g.grid_snap=!0,m=0;m<n;m++){l=+o[m],isNaN(l)?l=o[m]:(o[m]=l,l=this._prettify(l)),g.p_values.push(l)}}if("number"!==typeof g.from||isNaN(g.from)){g.from=g.min}if("number"!==typeof g.to||isNaN(g.from)){g.to=g.max}if(g.from<g.min||g.from>g.max){g.from=g.min}if(g.to>g.max||g.to<g.min){g.to=g.max}"double"===g.type&&g.from>g.to&&(g.from=g.to);if("number"!==typeof g.step||isNaN(g.step)||!g.step||0>g.step){g.step=1}if("number"!==typeof g.keyboard_step||isNaN(g.keyboard_step)||!g.keyboard_step||0>g.keyboard_step){g.keyboard_step=5}g.from_min&&g.from<g.from_min&&(g.from=g.from_min);g.from_max&&g.from>g.from_max&&(g.from=g.from_max);g.to_min&&g.to<g.to_min&&(g.to=g.to_min);g.to_max&&g.from>g.to_max&&(g.to=g.to_max);if(e){e.min!==g.min&&(e.min=g.min);e.max!==g.max&&(e.max=g.max);if(e.from<e.min||e.from>e.max){e.from=g.from}if(e.to<e.min||e.to>e.max){e.to=g.to}}if("number"!==typeof g.min_interval||isNaN(g.min_interval)||!g.min_interval||0>g.min_interval){g.min_interval=0}if("number"!==typeof g.max_interval||isNaN(g.max_interval)||!g.max_interval||0>g.max_interval){g.max_interval=0}g.min_interval&&g.min_interval>g.max-g.min&&(g.min_interval=g.max-g.min);g.max_interval&&g.max_interval>g.max-g.min&&(g.max_interval=g.max-g.min)},decorate:function(g,e){var m="",l=this.options;l.prefix&&(m+=l.prefix);m+=g;l.max_postfix&&(l.values.length&&g===l.p_values[l.max]?(m+=l.max_postfix,l.postfix&&(m+=" ")):e===l.max&&(m+=l.max_postfix,l.postfix&&(m+=" ")));l.postfix&&(m+=l.postfix);return m},updateFrom:function(){this.result.from=this.options.from;this.result.from_percent=this.calcPercent(this.result.from);this.options.values&&(this.result.from_value=this.options.values[this.result.from])},updateTo:function(){this.result.to=this.options.to;this.result.to_percent=this.calcPercent(this.result.to);this.options.values&&(this.result.to_value=this.options.values[this.result.to])},updateResult:function(){this.result.min=this.options.min;this.result.max=this.options.max;this.updateFrom();this.updateTo()},appendGrid:function(){if(this.options.grid){var x=this.options,w,v;w=x.max-x.min;var u=x.grid_num,q=0,s=0,p=4,t,r,o=0,l="";this.calcGridMargin();x.grid_snap?(u=w/x.step,q=this.toFixed(x.step/(w/100))):q=this.toFixed(100/u);4<u&&(p=3);7<u&&(p=2);14<u&&(p=1);28<u&&(p=0);for(w=0;w<u+1;w++){t=p;s=this.toFixed(q*w);100<s&&(s=100,t-=2,0>t&&(t=0));this.coords.big[w]=s;r=(s-q*(w-1))/(t+1);for(v=1;v<=t&&0!==s;v++){o=this.toFixed(s-r*v),l+='<span class="irs-grid-pol small" style="left: '+o+'%"></span>'}l+='<span class="irs-grid-pol" style="left: '+s+'%"></span>';o=this.calcReal(s);o=x.values.length?x.p_values[o]:this._prettify(o);l+='<span class="irs-grid-text js-grid-text-'+w+'" style="left: '+s+'%">'+o+"</span>"}this.coords.big_num=Math.ceil(u+1);this.$cache.cont.addClass("irs-with-grid");this.$cache.grid.html(l);this.cacheGridLabels()}},cacheGridLabels:function(){var g,e,l=this.coords.big_num;for(e=0;e<l;e++){g=this.$cache.grid.find(".js-grid-text-"+e),this.$cache.grid_labels.push(g)}this.calcGridLabels()},calcGridLabels:function(){var g,e;e=[];var m=[],l=this.coords.big_num;for(g=0;g<l;g++){this.coords.big_w[g]=this.$cache.grid_labels[g].outerWidth(!1),this.coords.big_p[g]=this.toFixed(this.coords.big_w[g]/this.coords.w_rs*100),this.coords.big_x[g]=this.toFixed(this.coords.big_p[g]/2),e[g]=this.toFixed(this.coords.big[g]-this.coords.big_x[g]),m[g]=this.toFixed(e[g]+this.coords.big_p[g])}this.options.force_edges&&(e[0]<this.coords.grid_gap&&(e[0]=this.coords.grid_gap,m[0]=this.toFixed(e[0]+this.coords.big_p[0]),this.coords.big_x[0]=this.coords.grid_gap),m[l-1]>100-this.coords.grid_gap&&(m[l-1]=100-this.coords.grid_gap,e[l-1]=this.toFixed(m[l-1]-this.coords.big_p[l-1]),this.coords.big_x[l-1]=this.toFixed(this.coords.big_p[l-1]-this.coords.grid_gap)));this.calcGridCollision(2,e,m);this.calcGridCollision(4,e,m);for(g=0;g<l;g++){e=this.$cache.grid_labels[g][0],e.style.marginLeft=-this.coords.big_x[g]+"%"}},calcGridCollision:function(m,l,r){var q,p,o,n=this.coords.big_num;for(q=0;q<n;q+=m){p=q+m/2;if(p>=n){break}o=this.$cache.grid_labels[p][0];o.style.visibility=r[q]<=l[p]?"visible":"hidden"}},calcGridMargin:function(){this.options.grid_margin&&(this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.coords.w_rs&&(this.coords.w_handle="single"===this.options.type?this.$cache.s_single.outerWidth(!1):this.$cache.s_from.outerWidth(!1),this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100),this.coords.grid_gap=this.toFixed(this.coords.p_handle/2-0.1),this.$cache.grid[0].style.width=this.toFixed(100-this.coords.p_handle)+"%",this.$cache.grid[0].style.left=this.coords.grid_gap+"%"))},update:function(e){this.is_update=!0;this.options=h.extend(this.options,e);this.validate();this.updateResult(e);this.toggleInput();this.remove();this.init(!0)},reset:function(){this.updateResult();this.update()},destroy:function(){this.toggleInput();this.$cache.input.prop("readonly",!1);h.data(this.input,"ionRangeSlider",null);this.remove();this.options=this.input=null}};h.fn.ionRangeSlider=function(e){return this.each(function(){h.data(this,"ionRangeSlider")||h.data(this,"ionRangeSlider",new a(this,e,j++))})};(function(){for(var g=0,e=["ms","moz","webkit","o"],l=0;l<e.length&&!f.requestAnimationFrame;++l){f.requestAnimationFrame=f[e[l]+"RequestAnimationFrame"],f.cancelAnimationFrame=f[e[l]+"CancelAnimationFrame"]||f[e[l]+"CancelRequestAnimationFrame"]}f.requestAnimationFrame||(f.requestAnimationFrame=function(m,q){var o=(new Date).getTime(),p=Math.max(0,16-(o-g)),n=f.setTimeout(function(){m(o+p)},p);g=o+p;return n});f.cancelAnimationFrame||(f.cancelAnimationFrame=function(m){clearTimeout(m)})})()})(jQuery,document,window,navigator);